const palavras = [
    //DESENHOS ANIMADOS
    palavra001 = {
        nome: "PERNALONGA",
        categoria: "DESENHOS ANIMADOS",
    },
    palavra002 = {
        nome: "TARTARUGAS NINJAS",
        categoria: "DESENHOS ANIMADOS",
    },
    palavra003 = {
        nome: "BATMAN",
        categoria: "DESENHOS ANIMADOS",
    },
    palavra004 = {
        nome: "POKEMON",
        categoria: "DESENHOS ANIMADOS",
    },
    palavra005 = {
        nome: "DRAGON BALL",
        categoria: "DESENHOS ANIMADOS",
    },
    palavra006 = {
        nome: "GARFIELD",
        categoria: "DESENHOS ANIMADOS",
    },
    palavra007 = {
        nome: "CAPITAO CAVERNA",
        categoria: "DESENHOS ANIMADOS",
    },
    palavra008 = {
        nome: "NARUTO",
        categoria: "DESENHOS ANIMADOS",
    },
    palavra009 = {
        nome: "OS SIMPSONS",
        categoria: "DESENHOS ANIMADOS",
    },
    palavra010 = {
        nome: "CORAGEM",
        categoria: "DESENHOS ANIMADOS",
    },
    palavra011 = {
        nome: "SCOOBY DOO",
        categoria: "DESENHOS ANIMADOS",
    },
    palavra012 = {
        nome: "JOVENS TITANS",
        categoria: "DESENHOS ANIMADOS",
    },
    palavra013 = {
        nome: "OS FLINTSTONES",
        categoria: "DESENHOS ANIMADOS",
    },
    palavra014 = {
        nome: "BOB ESPONJA",
        categoria: "DESENHOS ANIMADOS",
    },
    palavra015 = {
        nome: "HORA DE AVENTURA",
        categoria: "DESENHOS ANIMADOS",
    },
    palavra016 = {
        nome: "O MASKARA",
        categoria: "DESENHOS ANIMADOS",
    },
    palavra017 = {
        nome: "FUTURAMA",
        categoria: "DESENHOS ANIMADOS",
    },
    palavra018 = {
        nome: "RIQUINHO",
        categoria: "DESENHOS ANIMADOS",
    },
    palavra019 = {
        nome: "THUNDER CATS",
        categoria: "DESENHOS ANIMADOS",
    },
    palavra020 = {
        nome: "GASPARZINHO",
        categoria: "DESENHOS ANIMADOS",
    },

    //COMIDA
    palavra021 = {
        nome: "TAPIOCA",
        categoria: "COMIDA",
    },
    palavra022 = {
        nome: "BRIGADEIRO",
        categoria: "COMIDA",
    },
    palavra023 = {
        nome: "PRETZEL",
        categoria: "COMIDA",
    },
    palavra024 = {
        nome: "MACARRONADA",
        categoria: "COMIDA",
    },
    palavra025 = {
        nome: "LAZANHA",
        categoria: "COMIDA",
    },
    palavra026 = {
        nome: "COXINHA",
        categoria: "COMIDA",
    },
    palavra027 = {
        nome: "SORVETE",
        categoria: "COMIDA",
    },
    palavra028 = {
        nome: "PASTEL",
        categoria: "COMIDA",
    },
    palavra029 = {
        nome: "SALADA",
        categoria: "COMIDA",
    },
    palavra030 = {
        nome: "BOLO",
        categoria: "COMIDA",
    },
    palavra031 = {
        nome: "BISCOITO",
        categoria: "COMIDA",
    },
    palavra031 = {
        nome: "AMENDOIM",
        categoria: "COMIDA",
    },
    palavra032 = {
        nome: "BACON",
        categoria: "COMIDA",
    },
    palavra033 = {
        nome: "BERINJELA",
        categoria: "COMIDA",
    },
    palavra034 = {
        nome: "BROWNIE",
        categoria: "COMIDA",
    },
    palavra035 = {
        nome: "BURRITO",
        categoria: "COMIDA",
    },
    palavra036 = {
        nome: "BIFE",
        categoria: "COMIDA",
    },
    palavra037 = {
        nome: "COCADA",
        categoria: "COMIDA",
    },
    palavra038 = {
        nome: "SALGADINHO",
        categoria: "COMIDA",
    },
    palavra039 = {
        nome: "CENOURA",
        categoria: "COMIDA",
    },
    palavra040 = {
        nome: "CHURROS",
        categoria: "COMIDA",
    },
    
    //ROUPA
    palavra041 = {
        nome: "SALGADEIRO",
        categoria: "PROFISSÃO",
    },
    palavra042 = {
        nome: "ESTILISTA",
        categoria: "PROFISSÃO",
    },
    palavra043 = {
        nome: "PRODUTOR",
        categoria: "PROFISSÃO",
    },
    palavra044 = {
        nome: "CANTOR",
        categoria: "PROFISSÃO",
    },
    palavra045 = {
        nome: "ENGENHEIRO",
        categoria: "PROFISSÃO",
    },
    palavra046 = {
        nome: "DESIGNER",
        categoria: "PROFISSÃO",
    },
    palavra047 = {
        nome: "PROGRAMADOR",
        categoria: "PROFISSÃO",
    },
    palavra048 = {
        nome: "CIENTISTA",
        categoria: "PROFISSÃO",
    },
    palavra049 = {
        nome: "BIOLOGO",
        categoria: "PROFISSÃO",
    },
    palavra050 = {
        nome: "RECEPCIONISTA",
        categoria: "PROFISSÃO",
    },
    palavra051 = {
        nome: "SECRETARIO",
        categoria: "PROFISSÃO",
    },
    palavra052 = {
        nome: "ENFERMEIRO",
        categoria: "PROFISSÃO",
    },
    palavra053 = {
        nome: "CARPINTEIRO",
        categoria: "PROFISSÃO",
    },
    palavra054 = {
        nome: "MECANICO",
        categoria: "PROFISSÃO",
    },
    palavra055 = {
        nome: "PADEIRO",
        categoria: "PROFISSÃO",
    },
    palavra056 = {
        nome: "PIZZAIOLO",
        categoria: "PROFISSÃO",
    },
    palavra057 = {
        nome: "APICULTOR",
        categoria: "PROFISSÃO",
    },
    palavra058 = {
        nome: "JUIZ",
        categoria: "PROFISSÃO",
    },
    palavra059 = {
        nome: "ATOR",
        categoria: "PROFISSÃO",
    },
    palavra060 = {
        nome: "MEDICO",
        categoria: "PROFISSÃO",
    },

    //PAISES
    palavra061 = {
        nome: "ANGOLA",
        categoria: "PAISES",
    },
    palavra062 = {
        nome: "RUSSIA",
        categoria: "PAISES",
    },
    palavra063 = {
        nome: "POLONIA",
        categoria: "PAISES",
    },
    palavra063 = {
        nome: "FRANCA",
        categoria: "PAISES",
    },
    palavra064 = {
        nome: "ESTADOS UNIDOS",
        categoria: "PAISES",
    },
    palavra065 = {
        nome: "BRASIL",
        categoria: "PAISES",
    },
    palavra066 = {
        nome: "COSTA RICA",
        categoria: "PAISES",
    },
    palavra067 = {
        nome: "EGITO",
        categoria: "PAISES",
    },
    palavra068 = {
        nome: "INDIA",
        categoria: "PAISES",
    },
    palavra069 = {
        nome: "NOVA ZELANDIA",
        categoria: "PAISES",
    },
    palavra070 = {
        nome: "ITALIA",
        categoria: "PAISES",
    },
    palavra071 = {
        nome: "PORTUGAL",
        categoria: "PAISES",
    },
    palavra072 = {
        nome: "JAPAO",
        categoria: "PAISES",
    },
    palavra073 = {
        nome: "MEXICO",
        categoria: "PAISES",
    },
    palavra074 = {
        nome: "AUSTRALIA",
        categoria: "PAISES",
    },
    palavra075 = {
        nome: "BELGICA",
        categoria: "PAISES",
    },
    palavra076 = {
        nome: "BOLIVIA",
        categoria: "PAISES",
    },
    palavra077 = {
        nome: "CAMAROES",
        categoria: "PAISES",
    },
    palavra078 = {
        nome: "CANADA",
        categoria: "PAISES",
    },
    palavra079 = {
        nome: "CHILE",
        categoria: "PAISES",
    },
    palavra080 = {
        nome: "ESPANHA",
        categoria: "PAISES",
    },
]

let listaDinamica = [];
let tentativas = 6;
let palavraSecretaCategoria;
let palavraSecretaSorteada;

function voltarAoHub(){
    link = document.createElement("a")
    link.href = "https://joaosenadev.github.io"
    title = "Voltar Ao Hub!"
    link.target = ""
    link.click()
}


criarPalavraSecreta();

function criarPalavraSecreta(){
    const indexPalavra = parseInt(Math.random() * palavras.length)

    palavraSecretaSorteada = palavras[indexPalavra].nome;
    palavraSecretaCategoria = palavras[indexPalavra].categoria;
}

montarPalavraNaTela();

function montarPalavraNaTela(){ //monta a palavra na tela
    const categoria = document.getElementById("categoria");

    categoria.innerHTML = palavraSecretaCategoria;

    const palavraTela = document.getElementById("palavra-secreta");

    console.log(palavraSecretaSorteada);

    palavraTela.innerHTML = "";

    for( i = 0; i < palavraSecretaSorteada.length; i++){
        if(listaDinamica[i] == undefined){
            if(palavraSecretaSorteada[i] == " "){
                listaDinamica[i] = " ";
                palavraTela.innerHTML = palavraTela.innerHTML + "<div class='letrasEspaco'>" + listaDinamica[i] + "</div>"
            }
            else{
                listaDinamica[i] = "&nbsp;"

                palavraTela.innerHTML = palavraTela.innerHTML + "<div class='letras'>" + listaDinamica[i] + "</div>"
            }

        }
        else{
            if(palavraSecretaSorteada[i] == " "){
                listaDinamica[i] = " ";
                palavraTela.innerHTML = palavraTela.innerHTML + "<div class='letrasEspaco'>" + listaDinamica[i] + "</div>"
            }
            else{
                palavraTela.innerHTML = palavraTela.innerHTML + "<div class='letras'>" + listaDinamica[i] + "</div>"
            }
        }
    }
}

function verificarLetraEscolhida(letra){ //verifica a letra escolhida pelo usuario
    document.getElementById("tecla-" + letra).disabled = true;
    if(tentativas > 0) {
        mudarStyleLetra("tecla-" + letra, false);
        comparaListas(letra);
        montarPalavraNaTela();
    }
    
}

function mudarStyleLetra(tecla, condicao){ //muda o estilo do botão quando precionar
    if(condicao == false){
        document.getElementById(tecla).style.background = "#d10909";
        document.getElementById(tecla).style.color = "#ffffff";
    }
    else{
        document.getElementById(tecla).style.background = "#7431f8";
        document.getElementById(tecla).style.color = "#ffffff";
    }


}

function comparaListas(letra){ //compara se ele acertou ou não a palavra
    const pos = palavraSecretaSorteada.indexOf(letra)

    if(pos < 0){ //Se errar
        tentativas --

        carregaImagemForca();
        if(tentativas == 0){
            abreModal("OPS!", "Não foi dessa vez... A palavra secreta era <br>" + palavraSecretaSorteada); //Mensagem quando errar a palavra!
        }
    }
    else{
        mudarStyleLetra("tecla-" + letra, true);

        for(i = 0; i < palavraSecretaSorteada.length; i++){
            if(palavraSecretaSorteada[i] == letra){
                listaDinamica[i] = letra;
            }
        }
    }

    let vitoria = true;

    for(i = 0; i < palavraSecretaSorteada.length; i++){
        if(palavraSecretaSorteada[i] != listaDinamica[i]){
            vitoria = false;
        }
    }

    if(vitoria == true){  //Se vencer

        abreModal("PARABÉNS!!", "Você acertou a palavra..."); //Mensagem quando acertar a palavra!
        tentativas = 0;
    }
}

function carregaImagemForca(){ //Imagens de quando errar
    switch(tentativas){
        case 5: 
            document.getElementById("imagem").style.background = "url('./img/forca01.png')";
            break;
        case 4: 
            document.getElementById("imagem").style.background = "url('./img/forca02.png')";
            break;
        case 3: 
            document.getElementById("imagem").style.background = "url('./img/forca03.png')";
            break;
        case 2: 
            document.getElementById("imagem").style.background = "url('./img/forca04.png')";
            break;
        case 1: 
            document.getElementById("imagem").style.background = "url('./img/forca05.png')";
            break;
        case 0: 
            document.getElementById("imagem").style.background = "url('./img/forca06.png')";
            break;
        
        default:
            document.getElementById("imagem").style.background = "url('./img/forca.png')";
            break;
    }
}

function abreModal(titulo, mensagem){ //Modal || PopUp de mensagem!

    let modalTitulo = document.getElementById("modalTitle");
    modalTitulo.innerText = titulo;

    let modalMsg = document.getElementById("modalMsg");
    modalMsg.innerHTML = mensagem;

    $("#myModal").modal({
        show: true
    });
}

let btnRestart = document.querySelector("#btnRestart");

btnRestart.addEventListener("click", function(){
    location.reload();
});

let restartBtnModal = document.querySelector("#restartBtnModal");

restartBtnModal.addEventListener("click", function(){
    location.reload();
});
